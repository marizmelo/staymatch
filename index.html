<!DOCTYPE html>
<html class="responsive" ng-app="Staymatch">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Staymatch | Find Hotels Effortlessly</title>
    <link rel="stylesheet" href="./styles/xtyle.css">
    <link rel="stylesheet" href="./styles/staymatch.css">
    <script src="./scripts/jquery.min.js"></script>
    <script src="./scripts/angular.min.js"></script>
    <script src="./scripts/angular-ui-router.min.js"></script>
    <script>
      var app = angular.module('Staymatch', ['ui.router']);
      app.config(function ($stateProvider, $urlRouterProvider) {
        $urlRouterProvider.otherwise('/home');
        $stateProvider
          .state('home', {
            url: '/home',
            templateUrl: '/views/home.html'
          }).state('results', {
            url: '/results?search',
            templateUrl: '/views/results.html'
          });
      });

      // CONTROLLERS
      app.controller('MainCtrl', function ($scope, $state, $rootScope){
        $rootScope.search = "";
      });
      app.controller('ResultsCtrl', function ($scope, $state, $stateParams, $rootScope){
        $scope.search = $stateParams.search;
      });
      app.controller('HomeCtrl', function ($scope, $state, $rootScope){
        $scope.searchResults = function () {
          $rootScope.search = $scope.search;
          $state.go('results', {search: $scope.search});
        };
      });

      // DIRECTIVES
      app.directive('matchSearchbar', function (){
        return {
          templateUrl: '/components/searchbar/searchbar.html'
        };
      });
      app.directive('matchSearch', function () {
        return {
          templateUrl: '/components/search/search.html'
        };
      });
    </script>
  </head>
  <body ng-controller="MainCtrl">
    <div ui-view style="height: inherit;"></div>
  </body>
</html>
